<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="zh"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="zh"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="zh"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="zh">
<!--<![endif]-->
<head>
<title>收集用过的一些Python方法 - docx文档生成工具</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="最简单的方式构建你的项目文档" />
<meta name="author" content="Ryan Liu">
<link rel="icon" href="../assets/img/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="../assets/css/style.min.css">
<style rel="stylesheet">h1 a.html-hidden, div a.html-hidden</style>
<!-- Mobile -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<!-- Docs -->
<a href="https://github.com/azhai/docx" target="_blank" id="github-ribbon" class="hidden-print">
    <img src="../assets/img/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
</a>
<div class="navbar navbar-fixed-top hidden-print">
    <div class="container-fluid">
        <a class="brand navbar-brand pull-left" href="/docx/index.php">docx文档生成工具</a>
        <p class="navbar-text pull-right"> 多使用PHP缓存 – Ben Balbo </p>
    </div>
</div>

<div class="container-fluid fluid-height wrapper">
    <div class="row columns content">
        <div class="left-column article-tree col-sm-3 hidden-print">
        <!-- For Mobile -->
<div class="responsive-collapse">
    <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
    <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
    </button>
</div>
<div id="sub-nav-collapse" class="sub-nav-collapse">
    <!-- Navigation -->
    <ul class="nav nav-list">
    <li>
<a href="../index.html">首页</a>
</li>
<li>
<a href="#" class="aj-nav folder">Deploy</a>
<ul class="nav nav-list">
<li>
<a href="../deploy/vim_config.html">VIM配置</a>
</li>
<li>
<a href="../deploy/nginx_case_insensitive.html">让Nginx对URL不区分大小写</a>
</li>
<li>
<a href="../deploy/rsync_config.html">Rsync配置与使用</a>
</li>
<li>
<a href="../deploy/install_postfix.html">安装Postfix邮件服务器</a>
</li>
<li>
<a href="../deploy/nginx_log_cookie.html">Nginx记录访问cookie到日志</a>
</li>
<li>
<a href="../deploy/linux_upstart.html">Linux新的守护进程方式upstart</a>
</li>
<li>
<a href="../deploy/nginx-http_base_auth.html">Nginx设置简单HTTP认证</a>
</li>
<li>
<a href="../deploy/nginx_logrotate.html">Nginx日志按日期切割</a>
</li>
<li>
<a href="../deploy/samba_conf.html">Samba简单配置</a>
</li>
</ul>
</li>
<li>
<a href="#" class="aj-nav folder">CentOS</a>
<ul class="nav nav-list">
<li>
<a href="../centos/centos_install_mysql.html">安装Linux开发环境之一 —— MySQL</a>
</li>
<li>
<a href="../centos/centos_install_php.html">安装Linux开发环境之二 —— PHP</a>
</li>
<li>
<a href="../centos/centos_install_nginx.html">安装Linux开发环境之三 —— Nginx</a>
</li>
<li>
<a href="../centos/centos_install_redis.html">安装Linux开发环境之四 —— Redis</a>
</li>
<li>
<a href="../centos/centos_install_leveldb_beanstalkd.html">安装Linux开发环境之五 —— LevelDB、Beanstalkd</a>
</li>
<li>
<a href="../centos/centos_install_lamp.html">在CentOS上部署lamp环境</a>
</li>
</ul>
</li>
<li>
<a href="#" class="aj-nav folder">PHP</a>
<ul class="nav nav-list">
<li>
<a href="../php/zf2-multiple_dbs.html">Zend Framework 2 配置多个数据库</a>
</li>
<li>
<a href="../php/weight_rrd.html">PHP权重轮询</a>
</li>
<li>
<a href="../php/phpunit_boot.html">启动PHPUnit测试的简便方式</a>
</li>
</ul>
</li>
<li class="open">
<a href="#" class="aj-nav folder">Python</a>
<ul class="nav nav-list">
<li>
<a href="../python/python_pop3.html">通过POP3协议读取指定邮件</a>
</li>
<li>
<a href="../python/python_pinyin.html">GB2312中文转拼音</a>
</li>
<li>
<a href="../python/python_md5.html">Python计算文件的MD5</a>
</li>
<li>
<a href="../python/python_mulpti_logging.html">Python多进程记录日志</a>
</li>
<li>
<a href="../python/python_paginate.html">一个Python分页</a>
</li>
<li>
<a href="../python/python_urlib.html">Python网址操作函数</a>
</li>
<li>
<a href="../python/python_pymssql_re2.html">安装Python支持SqlServer和re2</a>
</li>
<li class="active">
<a href="../python/python_functions.html">收集用过的一些Python方法</a>
</li>
</ul>
</li>
<li>
<a href="#" class="aj-nav folder">Tool</a>
<ul class="nav nav-list">
<li>
<a href="../tool/git_push.html">正确使用git避免提交冲突</a>
</li>
<li>
<a href="../tool/haskell_mysql_dumper.html">MySQL导出CSV文件（Haskell实现）</a>
</li>
</ul>
</li>
<li>
<a href="#" class="aj-nav folder">Help</a>
<ul class="nav nav-list">
<li>
<a href="../help/github-flavored-markdown.html">Markdown 语法</a>
</li>
</ul>
</li>    </ul>
    <div class="well well-sidebar">
        <div><a href="#" id="toggleCodeBlockBtn" onclick="toggleCodeBlocks();">外置代码框</a></div>
            </div>
    <div class="well well-sidebar">
        <!-- Links -->
        <div><a href="https://coding.net/u/azhai/p/docx/git" target="_blank">Coding仓库</a></div><div><a href="http://git.oschina.net/azhai/docx" target="_blank">OSChina仓库</a></div><div><a href="http://todaymade.com" target="_blank">Todaymade出品Daux.io</a></div><div><a href="http://blog.emx2.co.uk" target="_blank">Xin Meng翻译文档</a></div>    </div>
</div>        </div>

        <div class="right-column content-area col-sm-9">
            <div class="content-page">
                <article>
                    <div class="page-header sub-header clearfix">
                        <h1>收集用过的一些Python方法
</h1>
                        <span style="float: left; font-size: 10px; color: gray;">
                        标签：python, function                        </span>
                        <span style="float: right; font-size: 10px; color: gray;">
                        <!--a href="/docx/index.phpauthor/ryan-liu"-->
                        Ryan Liu<!--/a--> 写于 2013年7月8日 星期一                        </span>
                    </div>

                    <pre><code class="language-python"># -*- coding:utf-8 -*-

#设置字符编码为UTF-8
import sys
import os, os.path
os.chdir(os.path.dirname(os.path.realpath(__file__)))
if sys.getdefaultencoding() != 'utf-8':
    try:
        reload(sys)
        sys.setdefaultencoding('utf-8')
    except AttributeError:
        pass

#用于Python List类型的去重复，并保持元素原有次序
def unique_list(seq, excludes=[]):
    """
    返回包含原列表中所有元素的新列表，将重复元素去掉，并保持元素原有次序
    excludes: 不希望出现在新列表中的元素们
    """
    seen = set(excludes)  # seen是曾经出现的元素集合
    return [x for x in seq if x not in seen and not seen.add(x)]

#CPython
def get_mac_addr():
    """ 获得本机网卡物理地址 """
    import uuid
    node = uuid.getnode()
    mac = uuid.UUID(int=node)
    addr = mac.hex[-12:]
    return addr

#IronPyton
from System.Net.NetworkInformation import NetworkInterface, NetworkInterfaceType

def getMacAddress():
    """ 获得本机网卡物理地址（IronPyton版本） """
    for netcard in NetworkInterface.GetAllNetworkInterfaces():
        if netcard.NetworkInterfaceType == NetworkInterfaceType.Ethernet:
            return netcard.GetPhysicalAddress().ToString()
    return ''

def check_id_num(id_num):
    """ 验证18位身份证号码 """
    assert len(id_num) == 18 and id_num[:17].isdigit()
    factors = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]
    remainders = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2']
    result = sum([f*long(n) for f,n in zip(factors, id_num)])
    return remainders[result % 11] == id_num[-1]

def get_constellation(ymd='2000-01-01'):
    """ 从生日得到星座 """
    stellates = [
        {'date':120, 'name':u'水瓶座'},
        {'date':219, 'name':u'双鱼座'},
        {'date':321, 'name':u'牡羊座'},
        {'date':420, 'name':u'金牛座'},
        {'date':521, 'name':u'双子座'},
        {'date':622, 'name':u'巨蟹座'},
        {'date':723, 'name':u'狮子座'},
        {'date':823, 'name':u'处女座'},
        {'date':923, 'name':u'天秤座'},
        {'date':1024, 'name':u'天蝎座'},
        {'date':1123, 'name':u'射手座'},
        {'date':1222, 'name':u'魔羯座'}
    ]
    if not ymd or ymd == '0000-00-00':
        return u'未知'
    ymd = int(ymd[5:7]+ymd[8:10])
    index = ymd / 100 - 1
    if ymd &gt;= stellates[index]['date']:
        return stellates[index]['name']
    else:
        return stellates[index-1]['name']</code></pre>                </article>
            </div>
        </div>

    </div>
</div>

<script src="../assets/js/jquery.min.js"></script> 
<script src="../assets/js/custom.js"></script> 
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- hightlight.js -->
<script src="../assets/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>